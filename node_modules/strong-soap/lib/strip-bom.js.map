{"version":3,"sources":["../src/strip-bom.js"],"names":["module","exports","stripBom","str","Error","chunk","Buffer","from","transformed","value","slice","toString"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAA,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AAEA,SAASA,QAAT,CAAkBC,GAAlB,EAAsB;AAErB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC5B,UAAM,IAAIC,KAAJ,CAAU,oCAAV,CAAN;AACA;;AACD,MAAIC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYJ,GAAZ,CAAZ;AACA,MAAIK,WAAJ;AACA,MAAIC,KAAK,GAAGN,GAAZ;;AACA,MAAIE,KAAK,CAAC,CAAD,CAAL,KAAa,IAAb,IAAqBA,KAAK,CAAC,CAAD,CAAL,KAAa,IAAtC,EAA4C;AAC3CG,IAAAA,WAAW,GAAGH,KAAK,CAACK,KAAN,CAAY,CAAZ,CAAd;AACA;;AACD,MAAIL,KAAK,CAAC,CAAD,CAAL,IAAY,IAAZ,IAAoBA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAhC,IAAwCA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAxD,EAA8D;AAC7DG,IAAAA,WAAW,GAAGH,KAAK,CAACK,KAAN,CAAY,CAAZ,CAAd;AACA;;AACD,MAAIF,WAAJ,EAAiB;AAChBC,IAAAA,KAAK,GAAGD,WAAW,CAACG,QAAZ,EAAR;AACA;;AACD,SAAOF,KAAP;AACA;;AAAA","sourcesContent":["// Copyright IBM Corp. 2016,2019. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n/*\nstrip the BOM characters in the beginning of UTF-8 \nor other unicode encoded strings\nhttp://en.wikipedia.org/wiki/Byte_order_mark \n*/\n'use strict';\nmodule.exports = stripBom;\n\nfunction stripBom(str){\n\n\tif (typeof str !== 'string') {\n\t\tthrow new Error('Invalid input, only string allowed');\n\t}\n\tvar chunk = Buffer.from(str);\n\tvar transformed;\n\tvar value = str;\n\tif (chunk[0] === 0xFE && chunk[1] === 0XFF) {\n\t\ttransformed = chunk.slice(2);\n\t}\n\tif (chunk[0] == 0xEF && chunk[1] == 0xBB && chunk[2] == 0xBF) {\n\t\ttransformed = chunk.slice(3);\n\t}\n\tif (transformed) {\n\t\tvalue = transformed.toString();\n\t}\n\treturn value;\n};\n"],"file":"strip-bom.js"}