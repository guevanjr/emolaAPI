{"version":3,"sources":["../../../src/parser/wsdl/message.js"],"names":["WSDLElement","require","descriptor","helper","assert","QName","Message","constructor","nsName","attrs","options","parts","addChild","child","name","$name","postProcess","definitions","p","describe","TypeDescriptor","part","partDescriptor","ElementDescriptor","type","elements","attributes","add","elementName","allowedChildren","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,WAAW,GAAGC,OAAO,CAAC,eAAD,CAAzB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,mBAAD,CAAxB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,WAAD,CAApB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAII,KAAK,GAAGJ,OAAO,CAAC,UAAD,CAAnB;;AAEA,MAAMK,OAAN,SAAsBN,WAAtB,CAAkC;AAChCO,EAAAA,WAAW,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAClC,UAAMF,MAAN,EAAcC,KAAd,EAAqBC,OAArB;AACA,SAAKC,KAAL,GAAa,EAAb;AACD;;AAEDC,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACd,QAAIA,KAAK,CAACC,IAAN,KAAe,MAAnB,EAA2B;AACzB,WAAKH,KAAL,CAAWE,KAAK,CAACE,KAAjB,IAA0BF,KAA1B;AACD;AACF;;AAEDG,EAAAA,WAAW,CAACC,WAAD,EAAc;AACvB,SAAK,IAAIC,CAAT,IAAc,KAAKP,KAAnB,EAA0B;AACxB,WAAKA,KAAL,CAAWO,CAAX,EAAcF,WAAd,CAA0BC,WAA1B;AACD;AACF;;AAEDE,EAAAA,QAAQ,CAACF,WAAD,EAAc;AACpB,QAAI,KAAKf,UAAT,EAAqB,OAAO,KAAKA,UAAZ;AACrB,SAAKA,UAAL,GAAkB,IAAIA,UAAU,CAACkB,cAAf,EAAlB;;AACA,SAAK,IAAIC,IAAT,IAAiB,KAAKV,KAAtB,EAA6B;AAC3B,UAAIO,CAAC,GAAG,KAAKP,KAAL,CAAWU,IAAX,CAAR;AACA,UAAIC,cAAc,GAAGJ,CAAC,CAACC,QAAF,CAAWF,WAAX,CAArB;;AACA,UAAIK,cAAc,YAAYpB,UAAU,CAACkB,cAAzC,EAAyD;AACvD,YAAIP,KAAK,GAAG,IAAIX,UAAU,CAACqB,iBAAf,CAAiC,IAAIlB,KAAJ,CAAUa,CAAC,CAACH,KAAZ,CAAjC,EACVO,cAAc,CAACE,IADL,EACW,aADX,EAC0B,KAD1B,CAAZ;AAEAX,QAAAA,KAAK,CAACY,QAAN,GAAiBH,cAAc,CAACG,QAAhC;AACAZ,QAAAA,KAAK,CAACa,UAAN,GAAmBJ,cAAc,CAACI,UAAlC;AACA,aAAKxB,UAAL,CAAgByB,GAAhB,CAAoBd,KAApB;AACD,OAND,MAMO;AACL,aAAKX,UAAL,CAAgByB,GAAhB,CAAoBL,cAApB;AACD;AACF;AACF;;AAlC+B;;AAqClChB,OAAO,CAACsB,WAAR,GAAsB,SAAtB;AACAtB,OAAO,CAACuB,eAAR,GAA0B,CAAC,MAAD,EAAS,eAAT,CAA1B;AAEAC,MAAM,CAACC,OAAP,GAAiBzB,OAAjB","sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar WSDLElement = require('./wsdlElement');\nvar descriptor = require('../xsd/descriptor');\nvar helper = require('../helper');\nvar assert = require('assert');\nvar QName = require('../qname');\n\nclass Message extends WSDLElement {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n    this.parts = {};\n  }\n\n  addChild(child) {\n    if (child.name === 'part') {\n      this.parts[child.$name] = child;\n    }\n  }\n\n  postProcess(definitions) {\n    for (var p in this.parts) {\n      this.parts[p].postProcess(definitions);\n    }\n  }\n\n  describe(definitions) {\n    if (this.descriptor) return this.descriptor;\n    this.descriptor = new descriptor.TypeDescriptor();\n    for (var part in this.parts) {\n      var p = this.parts[part];\n      var partDescriptor = p.describe(definitions);\n      if (partDescriptor instanceof descriptor.TypeDescriptor) {\n        var child = new descriptor.ElementDescriptor(new QName(p.$name),\n          partDescriptor.type, 'unqualified', false);\n        child.elements = partDescriptor.elements;\n        child.attributes = partDescriptor.attributes;\n        this.descriptor.add(child);\n      } else {\n        this.descriptor.add(partDescriptor);\n      }\n    }\n  }\n}\n\nMessage.elementName = 'message';\nMessage.allowedChildren = ['part', 'documentation'];\n\nmodule.exports = Message;\n\n"],"file":"message.js"}