{"version":3,"sources":["../../../src/parser/xsd/xsdElement.js"],"names":["Element","require","helper","descriptor","XSDElement","constructor","nsName","attrs","options","describeChildren","definitions","children","length","TypeDescriptor","isMany","childDescriptor","i","child","describe","add","postProcess","$maxOccurs","Number","targetNamespace","namespaces","xsd","allowedChildren","ElementDescriptor","AttributeDescriptor","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,YAAD,CAArB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,WAAD,CAApB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAD,CAAxB;;AAEA,MAAMG,UAAN,SAAyBJ,OAAzB,CAAiC;AAC/BK,EAAAA,WAAW,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAClC,UAAMF,MAAN,EAAcC,KAAd,EAAqBC,OAArB;AACD;;AAEDC,EAAAA,gBAAgB,CAACC,WAAD,EAAcP,UAAd,EAA0B;AACxC,QAAIQ,QAAQ,GAAG,KAAKA,QAAL,IAAiB,EAAhC;AACA,QAAIA,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B,OAAOT,UAAP;AAC3BA,IAAAA,UAAU,GAAGA,UAAU,IAAI,IAAIC,UAAU,CAACS,cAAf,EAA3B;AAEA,QAAIC,MAAM,GAAG,KAAKA,MAAL,EAAb;AACA,QAAIC,eAAJ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,KAAhB,EAAuBA,KAAK,GAAGN,QAAQ,CAACK,CAAD,CAAvC,EAA4CA,CAAC,EAA7C,EAAiD;AAC/CD,MAAAA,eAAe,GAAGE,KAAK,CAACC,QAAN,CAAeR,WAAf,CAAlB;;AACA,UAAIK,eAAJ,EAAqB;AACnBZ,QAAAA,UAAU,CAACgB,GAAX,CAAeJ,eAAf,EAAgCD,MAAhC;AACD;AACF;;AACD,WAAOX,UAAP;AACD;;AAEDe,EAAAA,QAAQ,CAACR,WAAD,EAAc;AACpB,WAAO,KAAKD,gBAAL,CAAsBC,WAAtB,CAAP;AACD;;AAEDU,EAAAA,WAAW,CAACV,WAAD,EAAc,CACvB;AACD;AAED;AACF;AACA;AACA;;;AACEI,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKO,UAAL,KAAoB,WAAxB,EAAqC,OAAO,IAAP;AACrC,WAAOC,MAAM,CAAC,KAAKD,UAAN,CAAN,GAA0B,CAAjC;AACD;;AApC8B;;AAuCjCjB,UAAU,CAACmB,eAAX,GAA6BvB,OAAO,CAACwB,UAAR,CAAmBC,GAAhD;AACArB,UAAU,CAACsB,eAAX,GAA6B,CAAC,YAAD,CAA7B,C,CAEA;;AACAtB,UAAU,CAACuB,iBAAX,GAA+BxB,UAAU,CAACwB,iBAA1C;AACAvB,UAAU,CAACwB,mBAAX,GAAiCzB,UAAU,CAACyB,mBAA5C;AACAxB,UAAU,CAACS,cAAX,GAA4BV,UAAU,CAACU,cAAvC;AAEAgB,MAAM,CAACC,OAAP,GAAiB1B,UAAjB","sourcesContent":["// Copyright IBM Corp. 2016,2018. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar Element = require('../element');\nvar helper = require('../helper');\nvar descriptor = require('./descriptor');\n\nclass XSDElement extends Element {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  describeChildren(definitions, descriptor) {\n    var children = this.children || [];\n    if (children.length === 0) return descriptor;\n    descriptor = descriptor || new XSDElement.TypeDescriptor();\n\n    var isMany = this.isMany();\n    var childDescriptor;\n    for (var i = 0, child; child = children[i]; i++) {\n      childDescriptor = child.describe(definitions);\n      if (childDescriptor) {\n        descriptor.add(childDescriptor, isMany);\n      }\n    }\n    return descriptor;\n  }\n\n  describe(definitions) {\n    return this.describeChildren(definitions);\n  }\n\n  postProcess(definitions) {\n    // NO-OP\n  }\n\n  /**\n   * Check if the max occurrence is many\n   * @returns {boolean}\n   */\n  isMany() {\n    if (this.$maxOccurs === 'unbounded') return true;\n    return Number(this.$maxOccurs) > 1;\n  }\n}\n\nXSDElement.targetNamespace = Element.namespaces.xsd;\nXSDElement.allowedChildren = ['annotation'];\n\n// Descriptors\nXSDElement.ElementDescriptor = descriptor.ElementDescriptor;\nXSDElement.AttributeDescriptor = descriptor.AttributeDescriptor;\nXSDElement.TypeDescriptor = descriptor.TypeDescriptor;\n\nmodule.exports = XSDElement;\n\n"],"file":"xsdElement.js"}