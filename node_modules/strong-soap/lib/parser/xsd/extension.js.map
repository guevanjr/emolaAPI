{"version":3,"sources":["../../../src/parser/xsd/extension.js"],"names":["XSDElement","require","helper","extend","Sequence","Choice","QName","Extension","constructor","nsName","attrs","options","describe","definitions","descriptor","TypeDescriptor","base","baseDescriptor","add","extension","name","xmlns","isSimple","describeChildren","postProcess","defintions","schemas","$base","resolveSchemaObject","elementName","allowedChildren","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,UAAU,GAAGC,OAAO,CAAC,cAAD,CAAxB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,WAAD,CAApB;;AACA,IAAIE,MAAM,GAAGD,MAAM,CAACC,MAApB;;AACA,IAAIC,QAAQ,GAAGH,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIK,KAAK,GAAGL,OAAO,CAAC,UAAD,CAAnB;;AAEA,MAAMM,SAAN,SAAwBP,UAAxB,CAAmC;AACjCQ,EAAAA,WAAW,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAClC,UAAMF,MAAN,EAAcC,KAAd,EAAqBC,OAArB;AACD;;AAEDC,EAAAA,QAAQ,CAACC,WAAD,EAAc;AACpB,QAAI,KAAKC,UAAT,EAAqB,OAAO,KAAKA,UAAZ;AACrB,QAAIA,UAAU,GAAG,KAAKA,UAAL,GACf,IAAId,UAAU,CAACe,cAAf,EADF;;AAEA,QAAI,KAAKC,IAAT,EAAe;AACb,UAAIC,cAAc,GAAG,KAAKD,IAAL,CAAUJ,QAAV,CAAmBC,WAAnB,CAArB;AACAC,MAAAA,UAAU,CAACI,GAAX,CAAeD,cAAf;AACAH,MAAAA,UAAU,CAACK,SAAX,GAAuB,EAAvB;AACAL,MAAAA,UAAU,CAACK,SAAX,CAAqBC,IAArB,GAA4BH,cAAc,CAACG,IAA3C;AACAN,MAAAA,UAAU,CAACK,SAAX,CAAqBE,KAArB,GAA6BJ,cAAc,CAACI,KAA5C;AACAP,MAAAA,UAAU,CAACK,SAAX,CAAqBG,QAArB,GAAgCL,cAAc,CAACK,QAA/C;AACD;;AACD,WAAO,KAAKC,gBAAL,CAAsBV,WAAtB,EAAmCC,UAAnC,CAAP;AACD;;AAEDU,EAAAA,WAAW,CAACC,UAAD,EAAa;AACtB,QAAIC,OAAO,GAAGD,UAAU,CAACC,OAAzB;;AACA,QAAI,KAAKC,KAAT,EAAgB;AACd,WAAKX,IAAL,GAAY,KAAKY,mBAAL,CAAyBF,OAAzB,EAAkC,MAAlC,EAA0C,KAAKC,KAA/C,CAAZ;AACD;AACF;;AAzBgC;;AA4BnCpB,SAAS,CAACsB,WAAV,GAAwB,WAAxB;AACAtB,SAAS,CAACuB,eAAV,GAA4B,CAAC,YAAD,EAAe,OAAf,EAAwB,KAAxB,EAA+B,UAA/B,EAC1B,QAD0B,EAChB,WADgB,EACH,gBADG,CAA5B;AAGAC,MAAM,CAACC,OAAP,GAAiBzB,SAAjB","sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar XSDElement = require('./xsdElement');\nvar helper = require('../helper');\nvar extend = helper.extend;\nvar Sequence = require('./sequence');\nvar Choice = require('./choice');\nvar QName = require('../qname');\n\nclass Extension extends XSDElement {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  describe(definitions) {\n    if (this.descriptor) return this.descriptor;\n    var descriptor = this.descriptor =\n      new XSDElement.TypeDescriptor();\n    if (this.base) {\n      let baseDescriptor = this.base.describe(definitions);\n      descriptor.add(baseDescriptor);\n      descriptor.extension = {};\n      descriptor.extension.name = baseDescriptor.name;\n      descriptor.extension.xmlns = baseDescriptor.xmlns;\n      descriptor.extension.isSimple = baseDescriptor.isSimple;\n    }\n    return this.describeChildren(definitions, descriptor);\n  }\n\n  postProcess(defintions) {\n    var schemas = defintions.schemas;\n    if (this.$base) {\n      this.base = this.resolveSchemaObject(schemas, 'type', this.$base);\n    }\n  }\n}\n\nExtension.elementName = 'extension';\nExtension.allowedChildren = ['annotation', 'group', 'all', 'sequence',\n  'choice', 'attribute', 'attributeGroup'];\n\nmodule.exports = Extension;\n"],"file":"extension.js"}