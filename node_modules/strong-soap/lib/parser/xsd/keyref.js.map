{"version":3,"sources":["../../../src/parser/xsd/keyref.js"],"names":["KeyBase","require","QName","KeyRef","constructor","nsName","attrs","options","postProcess","definitions","$refer","qname","parse","prefix","nsURI","getTargetNamespace","getNamespaceURI","elementName","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,UAAD,CAAnB;;AAEA,MAAME,MAAN,SAAqBH,OAArB,CAA6B;AAC3BI,EAAAA,WAAW,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAClC,UAAMF,MAAN,EAAcC,KAAd,EAAqBC,OAArB;AACD;;AAEDC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACvB,UAAMD,WAAN,CAAkBC,WAAlB;;AACA,QAAI,KAAKC,MAAT,EAAiB;AACf,UAAIC,KAAK,GAAGT,KAAK,CAACU,KAAN,CAAY,KAAKF,MAAjB,CAAZ;;AACA,UAAIC,KAAK,CAACE,MAAN,KAAiB,EAArB,EAAyB;AACvBF,QAAAA,KAAK,CAACG,KAAN,GAAc,KAAKC,kBAAL,EAAd;AACD,OAFD,MAEO;AACLJ,QAAAA,KAAK,CAACG,KAAN,GAAc,KAAKE,eAAL,CAAqBL,KAAK,CAACE,MAA3B,CAAd;AACD;AACF;AACF;;AAf0B;;AAkB7BV,MAAM,CAACc,WAAP,GAAqB,QAArB;AAEAC,MAAM,CAACC,OAAP,GAAiBhB,MAAjB","sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar KeyBase = require('./keybase');\nvar QName = require('../qname');\n\nclass KeyRef extends KeyBase {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  postProcess(definitions) {\n    super.postProcess(definitions);\n    if (this.$refer) {\n      let qname = QName.parse(this.$refer);\n      if (qname.prefix === '') {\n        qname.nsURI = this.getTargetNamespace();\n      } else {\n        qname.nsURI = this.getNamespaceURI(qname.prefix);\n      }\n    }\n  }\n}\n\nKeyRef.elementName = 'keyref';\n\nmodule.exports = KeyRef;\n"],"file":"keyref.js"}